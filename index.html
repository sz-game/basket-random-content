<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Local HTML Formatter - Fixed</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .tool-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 768px) {
            .tool-container {
                grid-template-columns: 1fr;
            }
        }
        .panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .panel-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .input-area {
            width: 100%;
            height: 400px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        .input-area:focus {
            border-color: #667eea;
            outline: none;
        }
        .output-area {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            word-break: break-word;
        }
        .controls {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }
        .btn-info {
            background: linear-gradient(135deg, #3498db 0%, #85c1e9 100%);
            color: white;
        }
        .preview-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 30px;
        }
        .preview-frame {
            width: 100%;
            height: 600px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
        }
        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .instructions {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .instructions h3 {
            color: #667eea;
            margin-top: 0;
        }
        .step {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>üéØ Smart Local HTML Formatter</h1>
            <p>Advanced parsing - Exact format matching!</p>
        </div>

        <div class="instructions">
            <h3>‚úÖ Perfect Format Matching:</h3>
            <div class="step">
                <strong>üéØ Smart Detection:</strong> Automatically detects Technical Details, Controls sections
            </div>
            <div class="step">
                <strong>üìã Exact Structure:</strong> Preserves your original text format perfectly
            </div>
            <div class="step">
                <strong>‚ö° Tab Support:</strong> Handles tab-separated data exactly as provided
            </div>
        </div>

        <div class="tool-container">
            <div class="panel">
                <div class="panel-title">üìù Input Text</div>
                <textarea 
                    id="inputText" 
                    class="input-area" 
                    placeholder="Paste your content here... 

Example format:
Game Title Here
Description text...

TECHNICAL DETAILS
Feature	Details
Technology	HTML5
Developer	Your Developer

üñ• Desktop Controls
Action	Control
Move Up	Arrow Key"
                ></textarea>
                
                <div class="controls">
                    <button class="btn btn-primary" onclick="smartConvert()">
                        üöÄ Smart Convert
                    </button>
                    <button class="btn btn-info" onclick="loadSampleData()">
                        üéÆ Load Sample
                    </button>
                    <button class="btn btn-info" onclick="clearAll()">
                        üóëÔ∏è Clear All
                    </button>
                </div>
                
                <div id="status"></div>
            </div>

            <div class="panel">
                <div class="panel-title">üíª Generated HTML</div>
                <div id="outputCode" class="output-area">HTML output will appear here...</div>
                
                <div class="controls">
                    <button class="btn btn-success" onclick="copyToClipboard()">
                        üìã Copy Code
                    </button>
                    <button class="btn btn-info" onclick="downloadHTML()">
                        üíæ Download
                    </button>
                </div>
            </div>
        </div>

        <div class="preview-section">
            <div class="panel-title">üëÄ Live Preview</div>
            <iframe id="previewFrame" class="preview-frame" title="HTML Preview"></iframe>
        </div>
    </div>

    <script>
        function showStatus(message, type = 'success') {
            const status = document.getElementById('status');
            status.className = `status ${type}`;
            status.textContent = message;
            
            if (type === 'success') {
                setTimeout(() => {
                    status.innerHTML = '';
                    status.className = '';
                }, 3000);
            }
        }

        function smartConvert() {
            const inputText = document.getElementById('inputText').value;
            
            if (!inputText.trim()) {
                showStatus('‚ùå Please enter some content first!', 'error');
                return;
            }

            try {
                const htmlContent = generateHTML(inputText);
                document.getElementById('outputCode').textContent = htmlContent;
                
                const preview = document.getElementById('previewFrame');
                preview.srcdoc = htmlContent;
                
                showStatus('‚úÖ Content converted successfully!');
                
            } catch (error) {
                console.error('Conversion error:', error);
                showStatus('‚ùå Error: ' + error.message, 'error');
            }
        }

        function generateHTML(text) {
            // Parse the text exactly as user provided
            const lines = text.split('\n');
            
            // Extract title (first non-empty line)
            let title = '';
            let description = [];
            let technicalDetails = [];
            let howToPlayContent = [];
            let desktopControls = [];
            let mobileControls = [];
            let tabletControls = [];
            let rating = '';
            
            let currentSection = 'description';
            let i = 0;

            // Get title
            while (i < lines.length && !lines[i].trim()) i++;
            if (i < lines.length) {
                title = lines[i].trim();
                i++;
            }

            // Parse content
            while (i < lines.length) {
                const line = lines[i].trim();
                const lowerLine = line.toLowerCase();
                
                if (lowerLine === 'technical details') {
                    currentSection = 'technical';
                    i++;
                    continue;
                } else if (lowerLine.includes('how to play')) {
                    currentSection = 'howtoplay';
                    howToPlayContent.push(line);
                    i++;
                    continue;
                } else if (lowerLine.includes('üñ•') && lowerLine.includes('controls')) {
                    currentSection = 'desktop';
                    desktopControls.push(line);
                    i++;
                    continue;
                } else if (lowerLine.includes('üì±') && lowerLine.includes('controls')) {
                    currentSection = 'mobile';
                    mobileControls.push(line);
                    i++;
                    continue;
                } else if ((lowerLine.includes('üìü') || lowerLine.includes('üì≤')) && lowerLine.includes('controls')) {
                    currentSection = 'tablet';
                    tabletControls.push(line);
                    i++;
                    continue;
                }
                
                // Check for rating
                if (line.includes('‚≠ê') || (lowerLine.includes('rating') && line.includes('/'))) {
                    rating = line;
                }
                
                // Add to appropriate section
                if (currentSection === 'description') {
                    if (line) description.push(line);
                } else if (currentSection === 'technical') {
                    if (line) technicalDetails.push(line);
                } else if (currentSection === 'howtoplay') {
                    if (line) howToPlayContent.push(line);
                } else if (currentSection === 'desktop') {
                    if (line) desktopControls.push(line);
                } else if (currentSection === 'mobile') {
                    if (line) mobileControls.push(line);
                } else if (currentSection === 'tablet') {
                    if (line) tabletControls.push(line);
                }
                
                i++;
            }

            // Generate HTML
            const escapeHtml = (str) => {
                return str.replace(/&/g, "&amp;")
                         .replace(/</g, "&lt;")
                         .replace(/>/g, "&gt;")
                         .replace(/"/g, "&quot;")
                         .replace(/'/g, "&#039;");
            };

            let html = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${escapeHtml(title || 'Game Title')}</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container-box {
            max-width: 900px;
            margin: 0 auto;
        }
        .box {
            background: white;
            margin: 20px 0;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }
        .features-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
        }
        .features-table th, .features-table td {
            border: 1px solid #ddd;
            padding: 12px 15px;
            text-align: left;
            vertical-align: top;
        }
        .features-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #495057;
        }
        .features-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        h1, h2, h3 {
            color: #333;
            margin-top: 0;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        @media (max-width: 768px) {
            .container-box { padding: 0 10px; }
            .box { padding: 15px; margin: 10px 0; }
            .features-table th, .features-table td { padding: 8px 10px; font-size: 14px; }
        }
    </style>
</head>
<body>
    <div class="container-box">
        <!-- Box 1: Game Introduction -->
        <div class="box">
            <h2>${escapeHtml(title || 'Game Title')}</h2>`;

            // Add description
            if (description.length > 0) {
                const descText = description.join(' ');
                if (descText.trim()) {
                    html += `
            <p style="font-size: 16px; text-align: justify;">
                ${escapeHtml(descText)}
            </p>`;
                }
            }

            // Add rating box
            if (rating) {
                html += `
            <div class="box" style="text-align:center;">
                <h2>Global Rating</h2>
                <h3>${escapeHtml(rating)}</h3>
            </div>`;
            }

            html += `
        </div>

        <!-- Box 2: Technical Details -->`;

            if (technicalDetails.length > 0) {
                html += `
        <div class="box">
            <h2>Technical Details</h2>
            <table class="features-table">`;

                technicalDetails.forEach(line => {
                    if (line.includes('\t')) {
                        const parts = line.split('\t');
                        if (parts.length >= 2) {
                            // Skip header row
                            if (!(parts[0].toLowerCase().includes('feature') && parts[1].toLowerCase().includes('details'))) {
                                html += `
                <tr>
                    <td><strong>${escapeHtml(parts[0].trim())}</strong></td>
                    <td>${escapeHtml(parts[1].trim())}</td>
                </tr>`;
                            }
                        }
                    }
                });

                html += `
            </table>
        </div>`;
            }

            html += `
    </div>


    <!-- Additional Content -->`;

            // How to Play section
            if (howToPlayContent.length > 0 || desktopControls.length > 0 || mobileControls.length > 0 || tabletControls.length > 0) {
                html += `

    <div class="container-box">
        <div class="box">`;

                // How to play header and description
                if (howToPlayContent.length > 0) {
                    html += `
            <h2>${escapeHtml(howToPlayContent[0])}</h2><br>`;
                    
                    for (let j = 1; j < howToPlayContent.length; j++) {
                        const line = howToPlayContent[j];
                        if (line && !line.toLowerCase().includes('controls')) {
                            html += `
            <p>${escapeHtml(line)}</p>`;
                        }
                    }
                }

                html += `

            <div class="container-box">`;

                // Controls sections
                const controlSections = [
                    {name: 'Desktop', data: desktopControls},
                    {name: 'Mobile', data: mobileControls}, 
                    {name: 'Tablet', data: tabletControls}
                ];

                controlSections.forEach((section, index) => {
                    if (section.data.length > 0) {
                        let sectionTips = []; // Store tips separately
                        
                        html += `
                <div class="box">
                    <h2>${escapeHtml(section.data[0])}</h2>
                    <table class="features-table">
                        <tr>
                            <th>Action</th>
                            <th>Control</th>
                        </tr>`;

                        for (let j = 1; j < section.data.length; j++) {
                            const line = section.data[j];
                            if (line.includes('\t')) {
                                const parts = line.split('\t');
                                if (parts.length >= 2) {
                                    // Skip header rows
                                    if (!(parts[0].toLowerCase() === 'action' && parts[1].toLowerCase() === 'control')) {
                                        html += `
                        <tr>
                            <td>${escapeHtml(parts[0].trim())}</td>
                            <td>${escapeHtml(parts[1].trim())}</td>
                        </tr>`;
                                    }
                                }
                            } else if (line.includes('üéØ') && line.includes(':')) {
                                // Store tip for later use, don't add to table
                                const tipText = line.substring(line.indexOf(':') + 1).trim();
                                sectionTips.push(tipText);
                            }
                        }

                        html += `
                    </table><br>`;
                    
                        // Add tips in separate box below table
                        if (sectionTips.length > 0) {
                            html += `
                    <div class="box"><p><strong>üéØ ${section.name} Tip:</strong> ${escapeHtml(sectionTips[0])}</p></div>`;
                        }
                        
                        html += `
                </div>`;

                        if (index < controlSections.filter(s => s.data.length > 0).length - 1) {
                            html += `




`;
                        }
                    }
                });

                html += `
            </div>
        </div>
    </div>`;
            }

            html += `
</body>
</html>`;

            return html;
        }

        function copyToClipboard() {
            const outputCode = document.getElementById('outputCode').textContent;
            if (!outputCode || outputCode === 'HTML output will appear here...') {
                showStatus('‚ùå Convert text first!', 'error');
                return;
            }
            
            navigator.clipboard.writeText(outputCode).then(() => {
                showStatus('‚úÖ Code copied to clipboard!');
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = outputCode;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showStatus('‚úÖ Code copied to clipboard!');
            });
        }

        function downloadHTML() {
            const outputCode = document.getElementById('outputCode').textContent;
            if (!outputCode || outputCode === 'HTML output will appear here...') {
                showStatus('‚ùå Convert text first!', 'error');
                return;
            }
            
            const blob = new Blob([outputCode], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'formatted-content.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showStatus('‚úÖ File downloaded!');
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputCode').textContent = 'HTML output will appear here...';
            document.getElementById('previewFrame').src = '';
            showStatus('‚úÖ Cleared!');
        }

        function loadSampleData() {
            const sampleText = `Think you've mastered the first two games? World's Hardest Game 3 raises the stakes with brand-new levels, smarter enemy patterns, and brain-bending obstacles that will keep you on edge! üïπÔ∏è This puzzle-arcade masterpiece is all about strategy, precision, and quick thinking. Every move matters as you guide the iconic red square through increasingly difficult stages while collecting every coin. Play this fan-favorite game free at Basket Random with no installation needed. Available online on all devices ‚Äì desktop, mobile, and tablet ‚Äì so you can challenge yourself anywhere, anytime. If you're looking for one of the toughest games on the internet, this is it!
TECHNICAL DETAILS
Feature	Details
Technology	HTML5
Developer	Snubby Land
Platform	Desktop, Mobile, Tablet
Classification	Arcade / Puzzle / Reflex Game
Controls	Keyboard (Desktop), Touch (Mobile)
Rating (Global)	‚≠ê 4.6/5
Game Last Update	September 2025
How to Play World's Hardest Game 3 on All Devices
This game is designed to push even the most skilled players to their limits! Your mission is simple but incredibly difficult: collect every coin on the screen, dodge enemies, and safely reach the green safe zone. With tight controls and responsive gameplay, you can enjoy the action seamlessly on desktop, mobile, or tablet.
üñ• Desktop Controls
Action	Control
Move Up	‚¨Ü Up Arrow
Move Down	‚¨á Down Arrow
Move Left	‚¨Ö Left Arrow
Move Right	‚û° Right Arrow
Pause / Settings	‚å® P Key
üéØ Quick Tip: Watch enemy patterns closely ‚Äì timing is everything!
üì± Mobile Controls
Action	Control
Move Character	üñ± On-Screen Joystick
Navigate Menu	üëÜ Tap Buttons
Pause Game	üñ± On-Screen Pause Button
üéØ Quick Tip: Use short, controlled movements for better precision!
üìü Tablet Controls
Action	Control
Move Character	üñ± On-Screen Joystick
Navigate Menu	üëÜ Tap Buttons
Pause Game	üñ± On-Screen Pause Button
üéØ Quick Tip: Use the bigger screen to plan safe coin collection routes!`;

            document.getElementById('inputText').value = sampleText;
            showStatus('üìã Sample data loaded! Click "Smart Convert" to test.');
        }
    </script>
</body>
</html>
